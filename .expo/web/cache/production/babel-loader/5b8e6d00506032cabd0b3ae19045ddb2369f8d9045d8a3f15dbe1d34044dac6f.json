{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import View from\"react-native-web/dist/exports/View\";import Image from\"react-native-web/dist/exports/Image\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import TouchableNativeFeedback from\"react-native-web/dist/exports/TouchableNativeFeedback\";import React,{useEffect,useState}from'react';import{initializeApp}from'firebase/app';import{getDownloadURL,getStorage,ref as storegeRef}from\"firebase/storage\";import{getAnalytics}from\"firebase/analytics\";import{getFirestore,collection,getDocs}from'firebase/firestore';import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import{useNavigation}from'@react-navigation/native';import{jsx as _jsx}from\"react/jsx-runtime\";var firebaseConfig={apiKey:\"AIzaSyAh7Wr4c9nv2ON-Ysnw36E_LpHucem8Wps\",authDomain:\"enfogramtaller5.firebaseapp.com\",projectId:\"enfogramtaller5\",databaseURL:\"https://enfogramtaller5-default-rtdb.firebaseio.com/\",storageBucket:\"enfogramtaller5.appspot.com\",messagingSenderId:\"416888291101\",appId:\"1:416888291101:web:8362cbddff7e9b1de6abf4\",measurementId:\"G-6LDJPXHE6V\"};var app=initializeApp(firebaseConfig);var analytics=getAnalytics(app);console.log(app);var Picturesx3=function Picturesx3(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),cont=_useState4[0],setCont=_useState4[1];var navigation=useNavigation();var getCont=function getCont(){var db=getFirestore();var colRef=collection(db,'contador');var getDoc=getDocs(colRef).then(function(snapshot){var contIn=[];snapshot.docs.forEach(function(doc){contIn.push(_objectSpread({},doc.data()));});setCont(contIn[0].num);return getDoc;}).catch(function(err){console.log(err.message);});};var fetchImages=function(){var _ref=_asyncToGenerator(function*(){var storage=getStorage(app);getCont();try{for(var index=1;index<cont+1;index++){var imagesRef=storegeRef(storage,\"images/\"+index+\"-undefined\");console.log(imagesRef);console.log(getDownloadURL(imagesRef));yield getDownloadURL(imagesRef).then(function(item){setImages(function(current){return[item].concat(_toConsumableArray(current));});});}return images;}catch(error){console.log(error);}});return function fetchImages(){return _ref.apply(this,arguments);};}();var goToImage=function goToImage(itemImage){navigation.navigate('onlyimage',{image:itemImage});};useEffect(function(){fetchImages();},[cont]);return _jsx(ScrollView,{showsVerticalScrollIndicator:false,style:{width:'100%',height:'auto'},children:_jsx(View,{style:{width:'100%',height:'auto',backgroundColor:'white',flexWrap:'wrap',flexDirection:'row',justifyContent:'space-between'},children:images==null?void 0:images.map(function(itemImage){return _jsx(TouchableOpacity,{onPress:function onPress(){return goToImage(itemImage);},style:{width:'32%',height:200,marginTop:1,border:'none'},children:_jsx(Image,{source:{uri:itemImage},style:{width:'100%',height:'100%',resizeMode:'stretch',marginLeft:-0.4}})},itemImage);})})});};export default Picturesx3;","map":{"version":3,"names":["React","useEffect","useState","initializeApp","getDownloadURL","getStorage","ref","storegeRef","getAnalytics","getFirestore","collection","getDocs","TouchableOpacity","useNavigation","jsx","_jsx","firebaseConfig","apiKey","authDomain","projectId","databaseURL","storageBucket","messagingSenderId","appId","measurementId","app","analytics","console","log","Picturesx3","_useState","_useState2","_slicedToArray","images","setImages","_useState3","_useState4","cont","setCont","navigation","getCont","db","colRef","getDoc","then","snapshot","contIn","docs","forEach","doc","push","_objectSpread","data","num","catch","err","message","fetchImages","_ref","_asyncToGenerator","storage","index","imagesRef","item","current","concat","_toConsumableArray","error","apply","arguments","goToImage","itemImage","navigate","image","ScrollView","showsVerticalScrollIndicator","style","width","height","children","View","backgroundColor","flexWrap","flexDirection","justifyContent","map","onPress","marginTop","border","Image","source","uri","resizeMode","marginLeft"],"sources":["D:/Programacion/Tesis-mateo/tesis-mateo/src/components/home/Picturesx3.js"],"sourcesContent":["import { View, Image, ScrollView, TouchableNativeFeedback } from 'react-native'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getDownloadURL, getStorage, ref as storegeRef } from \"firebase/storage\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport { getFirestore, collection, getDocs} from 'firebase/firestore'\r\nimport { TouchableOpacity } from 'react-native-web';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\n//FIREBASE\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAh7Wr4c9nv2ON-Ysnw36E_LpHucem8Wps\",\r\n    authDomain: \"enfogramtaller5.firebaseapp.com\",\r\n    projectId: \"enfogramtaller5\",\r\n    databaseURL: \"https://enfogramtaller5-default-rtdb.firebaseio.com/\",\r\n    storageBucket: \"enfogramtaller5.appspot.com\",\r\n    messagingSenderId: \"416888291101\",\r\n    appId: \"1:416888291101:web:8362cbddff7e9b1de6abf4\",\r\n    measurementId: \"G-6LDJPXHE6V\"\r\n};\r\n\r\n//INICIAR FIREBASE\r\nconst app = initializeApp(firebaseConfig);\r\nconst analytics = getAnalytics(app);\r\nconsole.log(app)\r\n\r\nconst Picturesx3 = () => {\r\n\r\n    const [images, setImages] = useState([]);\r\n    const [cont, setCont] = useState();\r\n    const navigation = useNavigation();\r\n\r\n    const getCont = () => {\r\n\r\n        const db = getFirestore()\r\n        const colRef = collection(db, 'contador')\r\n        const getDoc = getDocs(colRef).then((snapshot)=>{\r\n            const contIn = []\r\n            snapshot.docs.forEach((doc)=>{\r\n                contIn.push({...doc.data()})\r\n            })\r\n            setCont(contIn[0].num);\r\n            return getDoc\r\n        })\r\n        .catch(err => {\r\n            console.log(err.message);\r\n        })\r\n    }\r\n\r\n    const fetchImages = async () => {\r\n        const storage = getStorage(app);\r\n        getCont();\r\n        try {\r\n\r\n            for (let index = 1; index < cont + 1; index++) {\r\n                const imagesRef = storegeRef(storage, `images/${index}-undefined`);\r\n                console.log(imagesRef);\r\n                console.log(getDownloadURL(imagesRef));\r\n                await getDownloadURL(imagesRef).then((item) => {\r\n                        setImages(current => [item, ...current]);\r\n                })\r\n            }\r\n            return images\r\n            \r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n\r\n    }\r\n\r\n    const goToImage = (itemImage) => {\r\n        navigation.navigate('onlyimage', {image:itemImage})\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchImages();\r\n    }, [cont])\r\n\r\n\r\n    return (\r\n        <ScrollView\r\n            showsVerticalScrollIndicator={false}\r\n            style={{\r\n                width: '100%',\r\n                height: 'auto'\r\n            }}\r\n        >\r\n\r\n            <View style={{\r\n                width: '100%',\r\n                height: 'auto',\r\n                backgroundColor: 'white',\r\n                flexWrap: 'wrap',\r\n                flexDirection: 'row',\r\n                justifyContent: 'space-between'\r\n            }}>\r\n\r\n\r\n\r\n                {\r\n                    images?.map(itemImage => {\r\n                        return (\r\n                                <TouchableOpacity onPress={() => goToImage(itemImage)} key = {itemImage} style={{width: '32%', height: 200, marginTop: 1, border:'none'}}>\r\n                                <Image source={{\r\n                                    uri: itemImage\r\n                                }} style={{ width: '100%', height: '100%', resizeMode:'stretch', marginLeft:-0.4}} />\r\n                                </TouchableOpacity>\r\n                        )\r\n                    })\r\n                }\r\n\r\n\r\n            </View >\r\n\r\n        </ScrollView >\r\n\r\n    )\r\n}\r\n\r\nexport default Picturesx3;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}