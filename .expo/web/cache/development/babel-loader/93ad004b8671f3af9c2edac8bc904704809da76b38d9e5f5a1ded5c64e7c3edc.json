{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableNativeFeedback from \"react-native-web/dist/exports/TouchableNativeFeedback\";\nimport React, { useEffect, useState } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getDownloadURL, getStorage, ref as storegeRef } from \"firebase/storage\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getFirestore, collection, getDocs } from 'firebase/firestore';\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { useNavigation } from '@react-navigation/native';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyAh7Wr4c9nv2ON-Ysnw36E_LpHucem8Wps\",\n  authDomain: \"enfogramtaller5.firebaseapp.com\",\n  projectId: \"enfogramtaller5\",\n  databaseURL: \"https://enfogramtaller5-default-rtdb.firebaseio.com/\",\n  storageBucket: \"enfogramtaller5.appspot.com\",\n  messagingSenderId: \"416888291101\",\n  appId: \"1:416888291101:web:8362cbddff7e9b1de6abf4\",\n  measurementId: \"G-6LDJPXHE6V\"\n};\nvar app = initializeApp(firebaseConfig);\nvar analytics = getAnalytics(app);\nconsole.log(app);\nvar Picturesx3 = function Picturesx3() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    images = _useState2[0],\n    setImages = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    cont = _useState4[0],\n    setCont = _useState4[1];\n  var navigation = useNavigation();\n  var getCont = function getCont() {\n    var db = getFirestore();\n    var colRef = collection(db, 'contador');\n    var getDoc = getDocs(colRef).then(function (snapshot) {\n      var contIn = [];\n      snapshot.docs.forEach(function (doc) {\n        contIn.push(_objectSpread({}, doc.data()));\n      });\n      setCont(contIn[0].num);\n      return getDoc;\n    }).catch(function (err) {\n      console.log(err.message);\n    });\n  };\n  var fetchImages = function () {\n    var _ref = _asyncToGenerator(function* () {\n      var storage = getStorage(app);\n      getCont();\n      try {\n        for (var index = 1; index < cont + 1; index++) {\n          var imagesRef = storegeRef(storage, \"images/\" + index + \"-undefined\");\n          console.log(imagesRef);\n          console.log(getDownloadURL(imagesRef));\n          yield getDownloadURL(imagesRef).then(function (item) {\n            setImages(function (current) {\n              return [item].concat(_toConsumableArray(current));\n            });\n          });\n        }\n        return images;\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    return function fetchImages() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var goToImage = function goToImage() {\n    navigation.navigate('onlyimage', {\n      id: itemImage\n    });\n  };\n  useEffect(function () {\n    fetchImages();\n  }, [cont]);\n  return _jsx(ScrollView, {\n    showsVerticalScrollIndicator: false,\n    style: {\n      width: '100%',\n      height: 'auto'\n    },\n    children: _jsx(View, {\n      style: {\n        width: '100%',\n        height: 'auto',\n        backgroundColor: 'white',\n        flexWrap: 'wrap',\n        flexDirection: 'row',\n        justifyContent: 'space-between'\n      },\n      children: images == null ? void 0 : images.map(function (itemImage) {\n        return _jsx(TouchableOpacity, {\n          onPress: goToImage,\n          style: {\n            width: '32%',\n            height: 200,\n            marginTop: 1,\n            border: 'none'\n          },\n          children: _jsx(Image, {\n            source: {\n              uri: itemImage\n            },\n            style: {\n              width: '100%',\n              height: '100%',\n              resizeMode: 'stretch',\n              marginLeft: -0.4\n            }\n          })\n        }, itemImage);\n      })\n    })\n  });\n};\nexport default Picturesx3;","map":{"version":3,"names":["React","useEffect","useState","initializeApp","getDownloadURL","getStorage","ref","storegeRef","getAnalytics","getFirestore","collection","getDocs","TouchableOpacity","useNavigation","jsx","_jsx","firebaseConfig","apiKey","authDomain","projectId","databaseURL","storageBucket","messagingSenderId","appId","measurementId","app","analytics","console","log","Picturesx3","_useState","_useState2","_slicedToArray","images","setImages","_useState3","_useState4","cont","setCont","navigation","getCont","db","colRef","getDoc","then","snapshot","contIn","docs","forEach","doc","push","_objectSpread","data","num","catch","err","message","fetchImages","_ref","_asyncToGenerator","storage","index","imagesRef","item","current","concat","_toConsumableArray","error","apply","arguments","goToImage","navigate","id","itemImage","ScrollView","showsVerticalScrollIndicator","style","width","height","children","View","backgroundColor","flexWrap","flexDirection","justifyContent","map","onPress","marginTop","border","Image","source","uri","resizeMode","marginLeft"],"sources":["D:/Programacion/Tesis-mateo/tesis-mateo/src/components/home/Picturesx3.js"],"sourcesContent":["import { View, Image, ScrollView, TouchableNativeFeedback } from 'react-native'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getDownloadURL, getStorage, ref as storegeRef } from \"firebase/storage\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport { getFirestore, collection, getDocs} from 'firebase/firestore'\r\nimport { TouchableOpacity } from 'react-native-web';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\n//FIREBASE\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAh7Wr4c9nv2ON-Ysnw36E_LpHucem8Wps\",\r\n    authDomain: \"enfogramtaller5.firebaseapp.com\",\r\n    projectId: \"enfogramtaller5\",\r\n    databaseURL: \"https://enfogramtaller5-default-rtdb.firebaseio.com/\",\r\n    storageBucket: \"enfogramtaller5.appspot.com\",\r\n    messagingSenderId: \"416888291101\",\r\n    appId: \"1:416888291101:web:8362cbddff7e9b1de6abf4\",\r\n    measurementId: \"G-6LDJPXHE6V\"\r\n};\r\n\r\n//INICIAR FIREBASE\r\nconst app = initializeApp(firebaseConfig);\r\nconst analytics = getAnalytics(app);\r\nconsole.log(app)\r\n\r\nconst Picturesx3 = () => {\r\n\r\n    const [images, setImages] = useState([]);\r\n    const [cont, setCont] = useState();\r\n    const navigation = useNavigation();\r\n\r\n    const getCont = () => {\r\n\r\n        const db = getFirestore()\r\n        const colRef = collection(db, 'contador')\r\n        const getDoc = getDocs(colRef).then((snapshot)=>{\r\n            const contIn = []\r\n            snapshot.docs.forEach((doc)=>{\r\n                contIn.push({...doc.data()})\r\n            })\r\n            setCont(contIn[0].num);\r\n            return getDoc\r\n        })\r\n        .catch(err => {\r\n            console.log(err.message);\r\n        })\r\n    }\r\n\r\n    const fetchImages = async () => {\r\n        const storage = getStorage(app);\r\n        getCont();\r\n        try {\r\n\r\n            for (let index = 1; index < cont + 1; index++) {\r\n                const imagesRef = storegeRef(storage, `images/${index}-undefined`);\r\n                console.log(imagesRef);\r\n                console.log(getDownloadURL(imagesRef));\r\n                await getDownloadURL(imagesRef).then((item) => {\r\n                        setImages(current => [item, ...current]);\r\n                })\r\n            }\r\n            return images\r\n            \r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n\r\n    }\r\n\r\n    const goToImage = () => {\r\n        navigation.navigate('onlyimage', {id:itemImage})\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchImages();\r\n    }, [cont])\r\n\r\n\r\n    return (\r\n        <ScrollView\r\n            showsVerticalScrollIndicator={false}\r\n            style={{\r\n                width: '100%',\r\n                height: 'auto'\r\n            }}\r\n        >\r\n\r\n            <View style={{\r\n                width: '100%',\r\n                height: 'auto',\r\n                backgroundColor: 'white',\r\n                flexWrap: 'wrap',\r\n                flexDirection: 'row',\r\n                justifyContent: 'space-between'\r\n            }}>\r\n\r\n\r\n\r\n                {\r\n                    images?.map(itemImage => {\r\n                        return (\r\n                                <TouchableOpacity onPress={goToImage} key = {itemImage} style={{width: '32%', height: 200, marginTop: 1, border:'none'}}>\r\n                                <Image source={{\r\n                                    uri: itemImage\r\n                                }} style={{ width: '100%', height: '100%', resizeMode:'stretch', marginLeft:-0.4}} />\r\n                                </TouchableOpacity>\r\n                        )\r\n                    })\r\n                }\r\n\r\n\r\n            </View >\r\n\r\n        </ScrollView >\r\n\r\n    )\r\n}\r\n\r\nexport default Picturesx3;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}